"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[84],{823:function(e,o,t){t.d(o,{T:function(){return p},_:function(){return u}});var r=t(5861),a=t(7757),c=t.n(a),n=t(1830),i=t.n(n),l=t(362),s=t(9734),u=function(){return function(){var e=(0,r.Z)(c().mark((function e(o){var t,r,a,n,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("p1"),r=localStorage.getItem("p2"),a=localStorage.getItem("p3"),n=localStorage.getItem("p4"),e.next=6,(0,l.Z)("store",{userEncrypt:t,passwordEncrypt:r,databaseEncrypt:a,schemaEncrypt:n},"POST");case 6:return s=e.sent,e.next=9,s.json();case 9:(u=e.sent).ok?u.msg.length>0&&o(d(u.msg)):i().fire({title:"Error",text:u.msg,icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#0191CE"});case 11:case"end":return e.stop()}}),e)})));return function(o){return e.apply(this,arguments)}}()},d=function(e){return{type:s.V.bodegaList,payload:e}},p=function(e){return function(){var o=(0,r.Z)(c().mark((function o(t){return c().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t(m(e));case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},m=function(e){return{type:s.V.bodegaAux,payload:e}}},84:function(e,o,t){t.r(o),t.d(o,{default:function(){return C}});var r=t(4942),a=t(1413),c=t(885),n=t(2791),i=t(6030),l=t(1830),s=t.n(l),u=t(5243),d=t(3795),p=t(823),m=t(3180),h=t(5405),g=t(4077),x=t(2240),f=t(184),v={content:{top:"50%",left:"50%",right:"auto",bottom:"auto"}};x.ZP.setAppElement("#root");var j={precio1ValueProductModal:"",nombreValueProductModal:"",grupoValueProductModal:"",ivaValueProductModal:!1,servicioValueProductModal:!1},b=function(){var e=(0,i.I0)(),o=(0,i.v9)((function(e){return e.ui})).modalOpen,t=(0,i.v9)((function(e){return e.client})).actionModal,l=(0,i.v9)((function(e){return e.product})),u=l.productActive,g=l.groupProductList,b=(0,i.v9)((function(e){return e.bodega})).storeList,P=(0,n.useState)(j),N=(0,c.Z)(P,2),C=N[0],V=N[1],y=C.precio1ValueProductModal,k=C.nombreValueProductModal,M=C.grupoValueProductModal,E=C.ivaValueProductModal,Z=C.servicioValueProductModal,B={precio:y,nombre:k,grupo:M,impuesto:(0,h.xN)(E),servicio:(0,h.xN)(Z)};(0,n.useEffect)((function(){0===g.length&&e((0,d.yr)()),0===b.length&&g.length>0&&e((0,p._)())}),[e,g,b]),(0,n.useEffect)((function(){if(u){var e={precio1ValueProductModal:parseFloat(u.precio_1.trim()),nombreValueProductModal:u.nombrea.trim(),bodegaValueProductModal:u.bodega.trim(),grupoValueProductModal:u.grupo.trim(),ivaValueProductModal:1===parseInt(u.impuesto.trim()),servicioValueProductModal:1===parseInt(u.servicio.trim())};V(e)}else V(j)}),[u]);var A=function(e){var o=e.target;"checkbox"===o.type?V((0,a.Z)((0,a.Z)({},C),{},(0,r.Z)({},o.name,o.checked))):V((0,a.Z)((0,a.Z)({},C),{},(0,r.Z)({},o.name,o.value)))},O=function(o){o.preventDefault(),e((0,m.MJ)()),e((0,d.Hn)()),V(j)};return(0,f.jsx)(x.ZP,{isOpen:o,onRequestClose:O,shouldCloseOnOverlayClick:!1,style:v,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo",children:b.length>0&&g.length>0?(0,f.jsxs)("form",{className:"form-product-modal",children:[(0,f.jsxs)("header",{children:[(0,f.jsx)("h1",{className:"title-product-modal",children:"Art\xedculo"}),"edit"===t&&(0,f.jsx)("p",{className:"required-fields-modal-product",children:"* Datos obligatorios"})]}),(0,f.jsx)("hr",{}),(0,f.jsxs)("div",{className:"codigo-product-input-modal",children:[(0,f.jsx)("label",{children:"C\xf3digo: "}),(0,f.jsx)("p",{className:"code-product-modal",children:u?u.codigoa:""})]}),(0,f.jsxs)("div",{className:"codigo-product-input-modal",children:[(0,f.jsx)("label",{children:"Bodega: "}),(0,f.jsx)("p",{className:"code-product-modal",children:u?b.map((function(e){return e.codigo===u.bodega&&e.nombre})):""})]}),(0,f.jsxs)("div",{className:"precio1-product-input-modal",children:[(0,f.jsxs)("label",{children:["Precio 1","edit"===t&&(0,f.jsx)("i",{className:"required-input",children:"*"})]}),(0,f.jsx)("input",{type:"number",autoComplete:"off",disabled:"edit"!==t,placeholder:"26.50",name:"precio1ValueProductModal",value:y,onChange:A})]}),(0,f.jsxs)("div",{className:"nombre-product-input-modal",children:[(0,f.jsxs)("label",{children:["Nombre","edit"===t&&(0,f.jsx)("i",{className:"required-input",children:"*"})]}),(0,f.jsx)("input",{type:"text",autoComplete:"off",disabled:"edit"!==t,placeholder:"ART\xcdCULO EJEMPLO 1",name:"nombreValueProductModal",value:k,onChange:A})]}),(0,f.jsxs)("div",{className:"select-container-product-modal",children:[(0,f.jsx)("label",{children:"Grupo"}),(0,f.jsx)("div",{className:"grupo-input-product-modal",children:(0,f.jsx)("select",{id:"standard-select",disabled:"edit"!==t,name:"grupoValueProductModal",value:M.trim(),onChange:A,children:g.map((function(e){return(0,f.jsx)("option",{value:e.codigoga.trim(),children:e.codigoga.trim()+" - "+e.nombrega.trim()},e.codigoga.trim())}))})})]}),(0,f.jsxs)("div",{className:"checks-product-modal",children:[(0,f.jsxs)("div",{className:"iva-input-product-modal",children:[(0,f.jsx)("label",{children:"Registra IVA"}),(0,f.jsx)("input",{type:"checkbox",name:"ivaValueProductModal",disabled:"edit"!==t,checked:E,onChange:A})]}),(0,f.jsxs)("div",{className:"servicio-input-product-modal",children:[(0,f.jsx)("label",{children:"Servicio"}),(0,f.jsx)("input",{type:"checkbox",name:"servicioValueProductModal",disabled:"edit"!==t,checked:Z,onChange:A})]})]}),(0,f.jsxs)("div",{className:"buttons-column",children:["edit"===t&&(0,f.jsx)("button",{onClick:function(o){o.preventDefault(),""!==y&&(0,h.kE)(y)&&""!==k?s().fire({title:"\xbfDesea guardar los cambios?",showDenyButton:!0,confirmButtonText:"Guardar",confirmButtonColor:"#0191CE",denyButtonText:"No guardar"}).then((function(o){o.isConfirmed&&e((0,d.Ar)(B,u.codigoa,u.bodega))})):s().fire({title:"Error",text:"Aseg\xfarese de no dejar campos vac\xedos o verifique el precio sea num\xe9rico",icon:"error",showCancelButton:!1,confirmButtonColor:"#0191CE",confirmButtonText:"OK",closeOnConfirm:!1,closeOnCancel:!1,customClass:"Custom_Cancel"})},className:"button-save-modal",children:"GUARDAR"}),(0,f.jsx)("button",{onClick:O,className:"button-close-modal",children:"CERRAR"})]})]}):(0,f.jsx)("div",{className:"container-loading-product",children:(0,f.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-3x loading-product"})})})},P=t(9626),N={codigoValueProduct:"",precio1ValueProduct:"",nombreValueProduct:"",bodegaValueProduct:"",grupoValueProduct:"",ivaValueProduct:!1,servicioValueProduct:!1},C=function(){var e=(0,i.I0)(),o=(0,i.v9)((function(e){return e.auth})).user,t=(0,i.v9)((function(e){return e.product})),l=t.productList,x=t.productFind,v=t.groupProductList,j=(0,i.v9)((function(e){return e.bodega})).storeList,C=(0,n.useState)(!1),V=(0,c.Z)(C,2),y=V[0],k=V[1],M=(0,n.useState)(N),E=(0,c.Z)(M,2),Z=E[0],B=E[1],A=Z.codigoValueProduct,O=Z.precio1ValueProduct,R=Z.nombreValueProduct,S=Z.bodegaValueProduct,T=Z.grupoValueProduct,I=Z.ivaValueProduct,w=Z.servicioValueProduct,D={codigo:A,precio:O,nombre:R,bodega:S,grupo:T,impuesto:(0,h.xN)(I),servicio:(0,h.xN)(w)};(0,n.useEffect)((function(){localStorage.setItem("thisPage","articulos"),e((0,m.U)(localStorage.getItem("thisPage"))),e((0,u.m_)()),e((0,d.B8)()),e((0,P.OB)())}),[e]),(0,n.useEffect)((function(){if(0===l.length&&e((0,d.TH)()),l.length>0&&k(!0),0===v.length&&l.length>0&&e((0,d.yr)()),0===j.length&&l.length>0&&v.length>0&&e((0,p._)()),j.length>0&&v.length>0){var o={codigoValueProduct:"",precio1ValueProduct:"",nombreValueProduct:"",bodegaValueProduct:j[0].codigo.trim(),grupoValueProduct:v[0].codigoga.trim(),ivaValueProduct:!1,servicioValueProduct:!1};B(o)}else B(N)}),[e,l,v,j]),(0,n.useEffect)((function(){x&&(k(!1),x.length>0&&k(!0),l.length>0&&k(!0))}),[x,l]);var q=function(e){var o=e.target;"checkbox"===o.type?B((0,a.Z)((0,a.Z)({},Z),{},(0,r.Z)({},o.name,o.checked))):B((0,a.Z)((0,a.Z)({},Z),{},(0,r.Z)({},o.name,o.value)))};return(0,f.jsx)("div",{className:"product",children:v.length>0&&j.length>0?(0,f.jsxs)("div",{className:"container-product-header",children:[(0,f.jsx)("h1",{children:"Registro de art\xedculos"}),(0,f.jsx)("div",{className:"container-product-details",children:(0,f.jsxs)("form",{children:[(0,f.jsxs)("div",{className:"first-column-product-input",children:[(0,f.jsxs)("div",{className:"codigo-input-product",children:[(0,f.jsxs)("label",{children:["C\xf3digo ",(0,f.jsx)("i",{className:"required-input",children:"*"})]}),(0,f.jsx)("input",{type:"text",placeholder:"ART001",autoComplete:"off",name:"codigoValueProduct",value:A,onChange:q})]}),(0,f.jsxs)("div",{className:"precio-input-product",children:[(0,f.jsxs)("label",{children:["Precio 1 ",(0,f.jsx)("i",{className:"required-input",children:"*"})]}),(0,f.jsx)("input",{type:"number",placeholder:"26.50",autoComplete:"off",name:"precio1ValueProduct",value:O,onChange:q})]}),(0,f.jsxs)("div",{className:"nombre-input-product",children:[(0,f.jsxs)("label",{children:["Nombre ",(0,f.jsx)("i",{className:"required-input",children:"*"})]}),(0,f.jsx)("input",{type:"text",placeholder:"ARTICULO EJEMPLO 1",autoComplete:"off",name:"nombreValueProduct",value:R,onChange:q})]})]}),(0,f.jsxs)("div",{className:"second-column-product-input",children:[(0,f.jsxs)("div",{className:"select-container-product",children:[(0,f.jsx)("label",{children:"Bodega"}),(0,f.jsx)("div",{className:"bodega-input-product",children:(0,f.jsx)("select",{id:"standard-select",name:"bodegaValueProduct",value:S,onChange:q,children:j.map((function(e){return(0,f.jsx)("option",{value:e.codigo,children:e.codigo+" - "+e.nombre},e.codigo)}))})})]}),(0,f.jsxs)("div",{className:"select-container-product",children:[(0,f.jsx)("label",{children:"Grupo"}),(0,f.jsx)("div",{className:"grupo-input-product",children:(0,f.jsx)("select",{id:"standard-select",name:"grupoValueProduct",value:T,onChange:q,children:v.map((function(e){return(0,f.jsx)("option",{value:e.codigoga,children:e.codigoga+" - "+e.nombrega},e.codigoga)}))})})]})]}),(0,f.jsxs)("div",{className:"third-column-product-input",children:[(0,f.jsxs)("div",{className:"iva-input-product",children:[(0,f.jsx)("label",{children:"Registra IVA"}),(0,f.jsx)("input",{type:"checkbox",name:"ivaValueProduct",checked:I,onChange:q})]}),(0,f.jsxs)("div",{className:"servicio-input-product",children:[(0,f.jsx)("label",{children:"Servicio"}),(0,f.jsx)("input",{type:"checkbox",name:"servicioValueProduct",checked:w,onChange:q})]})]}),(0,f.jsx)("div",{className:"button-save-column-product",children:(0,f.jsx)("button",{onClick:function(t){t.preventDefault(),""!==A&&""!==O&&(0,h.kE)(O)&&""!==R?s().fire({title:"\xbfDesea guardar los cambios?",showDenyButton:!0,confirmButtonText:"Guardar",confirmButtonColor:"#0191CE",denyButtonText:"No guardar"}).then((function(t){t.isConfirmed&&e((0,d.bS)(D,o)),B(Z)})):s().fire({title:"Error",text:"Aseg\xfarese de no dejar campos vac\xedos o verifique el precio solo sea num\xe9rico",icon:"error",showCancelButton:!1,confirmButtonColor:"#0191CE",confirmButtonText:"OK",closeOnConfirm:!1,closeOnCancel:!1,customClass:"Custom_Cancel"})},className:"button-save-product",children:"GUARDAR"})}),(0,f.jsx)("p",{className:"required-fields",children:"* Datos obligatorios"})]})}),y?x?(0,f.jsx)(g.Z,{items:x}):(0,f.jsx)(g.Z,{items:l}):(0,f.jsx)("div",{className:"container-loading-product",children:(0,f.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-3x loading-product"})}),(0,f.jsx)(b,{})]}):(0,f.jsx)("div",{className:"container-loading-product",children:(0,f.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-3x loading-product"})})})}}}]);
//# sourceMappingURL=84.44fd989e.chunk.js.map