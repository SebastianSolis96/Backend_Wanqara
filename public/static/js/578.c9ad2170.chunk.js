"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[578],{3578:function(e,a,i){i.r(a),i.d(a,{default:function(){return V}});var n=i(4942),c=i(1413),t=i(885),l=i(7313),o=i(6352),s=i(1378),u=i.n(s),r=i(816),v=i.n(r),d=i(7011),f=i(7041),h=function(e,a,i){var n="";if(15===e.length)for(var c=0;c<6;c+=i)n+=c+i<7?e.substring(c,c+i)+a:e.substring(c,7);else n=0;return n},m=(i(9323),i(6417));(0,s.registerLocale)("es",d.Z);var p={numInvoiceValue:"",fechaValue:v()().toDate(),venceValue:v()().toDate(),radioInvoiceValue:"E"},V=function(e){var a=(0,o.I0)(),i=e.blockCharge,s=(0,o.v9)((function(e){return e.invoice})).activeInvoice,r=(0,o.v9)((function(e){return e.ui})).actionView,d=(0,l.useState)(p),V=(0,t.Z)(d,2),g=V[0],x=V[1],b=(0,l.useState)(!0),j=(0,t.Z)(b,2),I=j[0],N=j[1],Z=g.numInvoiceValue,y=g.fechaValue,C=g.venceValue,D=g.radioInvoiceValue;(0,l.useEffect)((function(){if(s[0]&&s[0].factura&&s[0].fecha&&s[0].vence&&s[0].tip)if(15===s[0].factura.length){var e={numInvoiceValue:h(s[0].factura.trim(),"-",3)+s[0].factura.trim().substring(6),fechaValue:v()(s[0].fecha).toDate(),venceValue:v()(s[0].vence).toDate(),radioInvoiceValue:s[0].tip};x(e)}else{var a={numInvoiceValue:s[0].factura,fechaValue:v()(s[0].fecha).toDate(),venceValue:v()(s[0].vence).toDate(),radioInvoiceValue:s[0].tip};x(a)}else if(s[0]&&s[0].factura&&0===Z.length){var i={numInvoiceValue:h(s[0].factura.trim(),"-",3)+s[0].factura.trim().substring(6),fechaValue:v()().toDate(),venceValue:v()().toDate(),radioInvoiceValue:"E"};x(i)}}),[s,Z]),(0,l.useEffect)((function(){if(I)if(Z.length>0){var e={factura:Z.replace(/-/g,""),fecha:y.toLocaleString("en-US"),vence:C.toLocaleString("en-US"),tip:D};N(!1),a((0,f.Pf)(e))}else if(0===Z.length){var i={fecha:y.toLocaleString("en-US"),vence:C.toLocaleString("en-US"),tip:D};N(!1),a((0,f.Pf)(i))}}),[I,a,y,Z,D,C]);var S=function(e){var a,i=e.target;if(N(!0),"radio"===i.type)x((0,c.Z)((0,c.Z)({},g),{},{radioInvoiceValue:i.value}));else if(15===i.value.length)a=h(i.value,"-",3)+i.value.substring(6),x((0,c.Z)((0,c.Z)({},g),{},(0,n.Z)({},i.name,a)));else{var t=i.value.replaceAll("-","");x((0,c.Z)((0,c.Z)({},g),{},(0,n.Z)({},i.name,t)))}};return(0,m.jsxs)("div",{className:"invoice-info-card",children:[(0,m.jsxs)("div",{className:"num-invoice",children:[(0,m.jsx)("p",{className:"invoice-num-title",children:"N\xfamero"}),(0,m.jsx)("input",{disabled:!!i||"editInvoice"===r,name:"numInvoiceValue",value:Z,onChange:S,placeholder:"001-001-000000001",autoComplete:"off",maxLength:"15",className:"invoice-num-input",type:"text"})]}),(0,m.jsxs)("div",{className:"fecha-invoice",children:[(0,m.jsx)("p",{className:"fecha-title",children:"Fecha: "}),(0,m.jsx)(u(),{selected:y,onChange:function(e){N(!0),x((0,c.Z)((0,c.Z)({},g),{},{fechaValue:v()(e).toDate()}))},dateFormat:"dd/MM/yyyy",locale:"es",disabled:!!i})]}),(0,m.jsxs)("div",{className:"fecha-invoice",children:[(0,m.jsx)("p",{className:"fecha-title",children:"Vence: "}),(0,m.jsx)(u(),{selected:C,onChange:function(e){N(!0),x((0,c.Z)((0,c.Z)({},g),{},{venceValue:v()(e).toDate()}))},dateFormat:"dd/MM/yyyy",locale:"es",disabled:!!i})]}),(0,m.jsxs)("div",{className:"tipo-invoice",children:[(0,m.jsx)("p",{className:"tipo-invoice-title",children:"Tipo"}),(0,m.jsxs)("div",{className:"radio-tipo-invoice",children:[(0,m.jsx)("label",{className:"tipo-invoice-subtitle",children:"Efectivo: "}),(0,m.jsx)("input",{className:"radio-tipo-invoice-input",type:"radio",name:"efectivoInvoiceValue",value:"E",checked:"E"===D,onChange:S,disabled:!!i,id:"tipo-invoice-1"}),(0,m.jsx)("label",{className:"tipo-invoice-subtitle space",children:"Cr\xe9dito: "}),(0,m.jsx)("input",{className:"radio-tipo-invoice-input",type:"radio",name:"creditoInvoiceValue",value:"C",checked:"C"===D,onChange:S,disabled:!!i,id:"tipo-invoice-1"})]})]})]})}}}]);