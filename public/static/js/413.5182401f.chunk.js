"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[413],{9720:function(e,t,n){n.d(t,{T:function(){return g},_:function(){return u}});var r=n(5861),o=n(7757),i=n.n(o),c=n(7114),a=n.n(c),l=n(6778),s=n(804),u=function(){return function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,o,c,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("p1"),r=localStorage.getItem("p2"),o=localStorage.getItem("p3"),c=localStorage.getItem("p4"),e.next=6,(0,l.Z)("store",{userEncrypt:n,passwordEncrypt:r,databaseEncrypt:o,schemaEncrypt:c},"POST");case 6:return s=e.sent,e.next=9,s.json();case 9:(u=e.sent).ok?u.msg.length>0&&t(d(u.msg)):a().fire({title:"Error",text:u.msg,icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#0191CE"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return{type:s.V.bodegaList,payload:e}},g=function(e){return function(){var t=(0,r.Z)(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(v(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return{type:s.V.bodegaAux,payload:e}}},413:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(4942),o=n(1413),i=n(885),c=n(7313),a=n(6352),l=n(7041),s=n(5861),u=n(7757),d=n.n(u),g=n(7114),v=n.n(g),m=n(6778),p=n(804),f=function(e){return{type:p.V.methodPayListType,payload:e}},h=function(){return function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,o,i,c,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("p1"),r=localStorage.getItem("p2"),o=localStorage.getItem("p3"),i=localStorage.getItem("p4"),e.next=6,(0,m.Z)("seller",{userEncrypt:n,passwordEncrypt:r,databaseEncrypt:o,schemaEncrypt:i},"POST");case 6:return c=e.sent,e.next=9,c.json();case 9:(a=e.sent).ok?a.msg.length>0&&t(x(a.msg)):v().fire({title:"Error",text:a.msg,icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#0191CE"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return{type:p.V.sellerListType,payload:e}},I=n(9720),y=(n(9323),n(6417)),b={plazoValueInvoice:"",vendendorValueInvoice:"",bodegaValueInvoice:""},E=function(e){var t=e.blockCharge,n=(0,a.I0)(),u=(0,a.v9)((function(e){return e.invoice})).activeInvoice,g=(0,a.v9)((function(e){return e.ui})).actionView,p=(0,a.v9)((function(e){return e.bodega})).storeList,x=(0,a.v9)((function(e){return e.method})).methodList,E=(0,a.v9)((function(e){return e.seller})).sellerList,V=(0,c.useState)(b),j=(0,i.Z)(V,2),S=j[0],k=j[1],w=S.plazoValueInvoice,C=S.vendendorValueInvoice,T=S.bodegaValueInvoice;(0,c.useEffect)((function(){if(0===p.length&&n((0,I._)()),0===x.length&&p.length>0&&n(function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,o,i,c,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("p1"),r=localStorage.getItem("p2"),o=localStorage.getItem("p3"),i=localStorage.getItem("p4"),e.next=6,(0,m.Z)("method",{userEncrypt:n,passwordEncrypt:r,databaseEncrypt:o,schemaEncrypt:i},"POST");case 6:return c=e.sent,e.next=9,c.json();case 9:(a=e.sent).ok?a.msg.length>0&&t(f(a.msg)):v().fire({title:"Error",text:a.msg,icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#0191CE"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),0===E.length&&x.length>0&&p.length>0&&n(h()),u[0]&&u[0].vendedor&&u[0].bodega&&u[0].dividendos){p.length>0&&n((0,I.T)(u[0].bodega.trim()));var e={plazoValueInvoice:u[0].dividendos.trim(),vendendorValueInvoice:u[0].vendedor.trim(),bodegaValueInvoice:u[0].bodega.trim()};k(e)}else if(p.length>0&&x.length>0&&E.length>0){n((0,I.T)(p[0].codigo.trim()));var t={plazoValueInvoice:x[0].codigo.trim(),vendendorValueInvoice:E[0].codigoven.trim(),bodegaValueInvoice:p[0].codigo.trim()};k(t)}else k(b)}),[n,p,x,E,u]),(0,c.useEffect)((function(){p.length>0&&T.length>0&&n((0,I.T)(T))}),[T,p,n]),(0,c.useEffect)((function(){if(p.length>0&&x.length>0&&E.length>0&&w.length>0&&C.length>0&&T.length>0&&g&&g.length>0){var e={dividendos:w,vendedor:C,bodega:T};n((0,l.Xy)(e))}}),[n,w,C,T,p,x,E,g]);var Z=function(e){var t=e.target;k((0,o.Z)((0,o.Z)({},S),{},(0,r.Z)({},t.name,t.value)))};return(0,y.jsxs)("div",{className:"invoice-selects-card",children:[(0,y.jsxs)("div",{className:"invoice-select",children:[(0,y.jsx)("label",{className:"invoice-select-title",children:"Plazo"}),(0,y.jsx)("div",{className:"invoice-select-input",children:(0,y.jsx)("select",{id:"standard-select",name:"plazoValueInvoice",value:w,onChange:Z,disabled:!!t,children:x.map((function(e){return(0,y.jsx)("option",{value:e.codigo.trim(),children:e.codigo.trim()+" - "+e.detalle.trim()},e.codigo.trim())}))})})]}),(0,y.jsxs)("div",{className:"invoice-select",children:[(0,y.jsx)("label",{className:"invoice-select-title",children:"Vendedor"}),(0,y.jsx)("div",{className:"invoice-select-input",children:(0,y.jsx)("select",{id:"standard-select",name:"vendendorValueInvoice",value:C.trim(),onChange:Z,disabled:!!t,children:E.map((function(e){return(0,y.jsx)("option",{value:e.codigoven.trim(),children:e.codigoven.trim()+" - "+e.nombreven.trim()},e.codigoven.trim())}))})})]}),(0,y.jsxs)("div",{className:"invoice-select",children:[(0,y.jsx)("label",{className:"invoice-select-title",children:"Bodega"}),(0,y.jsx)("div",{className:"invoice-select-input",children:(0,y.jsx)("select",{id:"standard-select",name:"bodegaValueInvoice",value:T.trim(),onChange:Z,disabled:!!t,children:p.map((function(e){return(0,y.jsx)("option",{value:e.codigo.trim(),children:e.codigo.trim()+" - "+e.nombre.trim()},e.codigo.trim())}))})})]})]})}}}]);