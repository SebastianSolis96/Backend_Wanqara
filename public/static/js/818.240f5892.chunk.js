"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[818],{3818:function(e,l,a){a.r(l),a.d(l,{default:function(){return V}});var o=a(885),n=a(7313),i=a(6352),t=a(7114),c=a.n(t),s=a(6984),r=a(7041),d=a(7902),u=a(7732),m=a(6566),h=a(2109),f=a(4569),p=a(4942),x=a(1413),j=a(3304),v=a(6417),C={content:{top:"50%",left:"50%",right:"auto",bottom:"auto"}};j.ZP.setAppElement("#root");var b={rucValueModal:"",nombreValueModal:"",direccionValueModal:"",telefonoValueModal:"",correoValueModal:"",ivaValueModal:!1},g=function(){var e=(0,i.I0)(),l=(0,i.v9)((function(e){return e.ui})).modalOpen,a=(0,i.v9)((function(e){return e.client})),t=a.actionModal,r=a.clientActive,u=(0,n.useState)(b),h=(0,o.Z)(u,2),f=h[0],g=h[1],V=f.rucValueModal,N=f.nombreValueModal,M=f.direccionValueModal,E=f.telefonoValueModal,y=f.correoValueModal,A=f.ivaValueModal,k={ruc:V,nombre:N,grabaIva:(0,m.Wb)(A),direccion:M,telefono:E,correo:y};(0,n.useEffect)((function(){if(r){var e={rucValueModal:parseInt(r.ruc.trim()),nombreValueModal:r.nombrec.trim(),direccionValueModal:r.direccion.trim(),telefonoValueModal:r.telefono.trim(),correoValueModal:r.e_mail.trim(),ivaValueModal:0===parseInt(r.reg_iva.trim())};g(e)}else g(b)}),[r]);var R=function(e){var l=e.target;"checkbox"===l.type?g((0,x.Z)((0,x.Z)({},f),{},(0,p.Z)({},l.name,l.checked))):g((0,x.Z)((0,x.Z)({},f),{},(0,p.Z)({},l.name,l.value)))},B=function(l){l.preventDefault(),e((0,d.MJ)()),e((0,s.kk)()),g(b)};return(0,v.jsx)(j.ZP,{isOpen:l,onRequestClose:B,shouldCloseOnOverlayClick:!1,style:C,closeTimeoutMS:200,className:"modal",overlayClassName:"modal-fondo",children:(0,v.jsxs)("form",{className:"form-client-modal",children:[(0,v.jsxs)("header",{children:[(0,v.jsx)("h1",{className:"title-client-modal",children:"Cliente"}),"edit"===t&&(0,v.jsx)("p",{className:"required-fields-modal",children:"* Datos obligatorios"})]}),(0,v.jsx)("hr",{}),(0,v.jsxs)("div",{className:"codigo-input-modal",children:[(0,v.jsx)("label",{children:"C\xf3digo: "}),(0,v.jsx)("p",{className:"code-client-modal",children:r?r.codigoc:""})]}),(0,v.jsxs)("div",{className:"ruc-input-modal",children:[(0,v.jsxs)("label",{children:["RUC","edit"===t&&(0,v.jsx)("i",{className:"required-input",children:"*"})]}),(0,v.jsx)("input",{type:"number",autoComplete:"off",disabled:"edit"!==t,placeholder:"1799999999",name:"rucValueModal",value:V,onChange:R})]}),(0,v.jsxs)("div",{className:"nombre-input-modal",children:[(0,v.jsxs)("label",{children:["Nombre","edit"===t&&(0,v.jsx)("i",{className:"required-input",children:"*"})]}),(0,v.jsx)("input",{type:"text",autoComplete:"off",disabled:"edit"!==t,placeholder:"EMPRESA EJEMPLO SA",name:"nombreValueModal",value:N,onChange:R})]}),(0,v.jsxs)("div",{className:"direccion-input-modal",children:[(0,v.jsx)("label",{children:"Direcci\xf3n"}),(0,v.jsx)("input",{type:"text",autoComplete:"off",disabled:"edit"!==t,placeholder:"CALLE 1 N51 12 Y CALLE 2",name:"direccionValueModal",value:M,onChange:R})]}),(0,v.jsxs)("div",{className:"telefono-input-modal",children:[(0,v.jsx)("label",{children:"Tel\xe9fono"}),(0,v.jsx)("input",{type:"text",autoComplete:"off",disabled:"edit"!==t,placeholder:"099 999 9999; 02 222 2222",name:"telefonoValueModal",value:E,onChange:R})]}),(0,v.jsxs)("div",{className:"correo-input-modal",children:[(0,v.jsx)("label",{children:"Correo"}),(0,v.jsx)("input",{type:"email",autoComplete:"off",disabled:"edit"!==t,placeholder:"ejemplo@gmail.com; ejemplo2@gmail.com",name:"correoValueModal",value:y,onChange:R})]}),(0,v.jsxs)("div",{className:"iva-input-modal",children:[(0,v.jsx)("label",{children:"Registra IVA"}),(0,v.jsx)("input",{type:"checkbox",name:"ivaValueModal",disabled:"edit"!==t,checked:A,onChange:R})]}),(0,v.jsxs)("div",{className:"buttons-column",children:["edit"===t&&(0,v.jsx)("button",{onClick:function(l){l.preventDefault(),""!==V&&(0,m.kE)(V)&&""!==N?c().fire({title:"\xbfDesea guardar los cambios?",showDenyButton:!0,confirmButtonText:"Guardar",confirmButtonColor:"#0191CE",denyButtonText:"No guardar"}).then((function(l){l.isConfirmed&&e((0,s.oS)(k,r.codigoc))})):c().fire({title:"Error",text:"Aseg\xfarese de no dejar campos vac\xedos o verifique el RUC sea num\xe9rico",icon:"error",showCancelButton:!1,confirmButtonColor:"#0191CE",confirmButtonText:"OK",closeOnConfirm:!1,closeOnCancel:!1,customClass:"Custom_Cancel"})},className:"button-save-modal",children:"GUARDAR"}),(0,v.jsx)("button",{onClick:B,className:"button-close-modal",children:"CERRAR"})]})]})})},V=function(){(0,u.T)();var e=(0,i.I0)(),l=(0,i.v9)((function(e){return e.auth})).user,a=(0,i.v9)((function(e){return e.client})),t=a.clientList,p=a.clientsFind,x=(0,n.useState)(!1),j=(0,o.Z)(x,2),C=j[0],b=j[1],V=(0,h.c)({codigoValue:"",rucValue:"",nombreValue:"",direccionValue:"",telefonoValue:"",correoValue:"",ivaValue:!1}),N=V.values,M=V.handleInputChange,E=V.reset,y=N.codigoValue,A=N.rucValue,k=N.nombreValue,R=N.direccionValue,B=N.telefonoValue,D=N.correoValue,O=N.ivaValue;(0,n.useEffect)((function(){localStorage.setItem("thisPage","clientes"),e((0,d.U)(localStorage.getItem("thisPage"))),e((0,s.m_)()),e((0,r.OB)())}),[e]),(0,n.useEffect)((function(){0===t.length&&e((0,s.Sd)()),t.length>0&&b(!0)}),[e,t]),(0,n.useEffect)((function(){p&&(b(!1),p.length>0&&b(!0),t.length>0&&b(!0))}),[p,t]);var Z={codigo:y,ruc:A,nombre:k,grabaIva:(0,m.Wb)(O),direccion:R,telefono:B,correo:D};return(0,v.jsx)("div",{className:"client",children:(0,v.jsxs)("div",{className:"container-client-header",children:[(0,v.jsx)("h1",{children:"Registro de clientes"}),(0,v.jsx)("div",{className:"container-client-details",children:(0,v.jsxs)("form",{children:[(0,v.jsxs)("div",{className:"first-column-client-input",children:[(0,v.jsxs)("div",{className:"codigo-input",children:[(0,v.jsxs)("label",{children:["C\xf3digo ",(0,v.jsx)("i",{className:"required-input",children:"*"})]}),(0,v.jsx)("input",{type:"text",placeholder:"1799999999",autoComplete:"off",name:"codigoValue",value:y,onChange:M})]}),(0,v.jsxs)("div",{className:"ruc-input",children:[(0,v.jsxs)("label",{children:["RUC ",(0,v.jsx)("i",{className:"required-input",children:"*"})]}),(0,v.jsx)("input",{type:"number",placeholder:"1799999999",autoComplete:"off",name:"rucValue",value:A,onChange:M})]}),(0,v.jsxs)("div",{className:"nombre-input",children:[(0,v.jsxs)("label",{children:["Nombre ",(0,v.jsx)("i",{className:"required-input",children:"*"})]}),(0,v.jsx)("input",{type:"text",placeholder:"EMPRESA EJEMPLO SA",autoComplete:"off",name:"nombreValue",value:k,onChange:M})]})]}),(0,v.jsxs)("div",{className:"second-column-client-input",children:[(0,v.jsxs)("div",{className:"direccion-input",children:[(0,v.jsx)("label",{children:"Direcci\xf3n"}),(0,v.jsx)("input",{type:"text",placeholder:"CALLE 1 N51 12 Y CALLE 2",autoComplete:"off",name:"direccionValue",value:R,onChange:M})]}),(0,v.jsxs)("div",{className:"telefono-input",children:[(0,v.jsx)("label",{children:"Tel\xe9fono"}),(0,v.jsx)("input",{type:"text",placeholder:"099 999 9999; 02 222 2222",autoComplete:"off",name:"telefonoValue",value:B,onChange:M})]})]}),(0,v.jsxs)("div",{className:"third-column-client-input",children:[(0,v.jsxs)("div",{className:"correo-input",children:[(0,v.jsx)("label",{children:"Correo"}),(0,v.jsx)("input",{type:"email",placeholder:"ejemplo@gmail.com; ejemplo2@gmail.com",autoComplete:"off",name:"correoValue",value:D,onChange:M})]}),(0,v.jsxs)("div",{className:"iva-input",children:[(0,v.jsx)("label",{className:"reg-iva-title",children:"Registra IVA"}),(0,v.jsx)("input",{type:"checkbox",name:"ivaValue",checked:O,onChange:M})]})]}),(0,v.jsx)("div",{className:"button-save-column",children:(0,v.jsx)("button",{onClick:function(a){a.preventDefault(),""!==y&&""!==A&&(0,m.kE)(A)&&""!==k?c().fire({title:"\xbfDesea guardar los cambios?",showDenyButton:!0,confirmButtonText:"Guardar",confirmButtonColor:"#0191CE",denyButtonText:"No guardar"}).then((function(a){a.isConfirmed&&e((0,s.zj)(Z,l)),E()})):c().fire({title:"Error",text:"Aseg\xfarese de no dejar campos vac\xedos o verifique el RUC sea num\xe9rico",icon:"error",showCancelButton:!1,confirmButtonColor:"#0191CE",confirmButtonText:"OK",closeOnConfirm:!1,closeOnCancel:!1,customClass:"Custom_Cancel"})},className:"button-save",children:"GUARDAR"})}),(0,v.jsx)("p",{className:"required-fields",children:"* Datos obligatorios"})]})}),C?p?(0,v.jsx)(f.Z,{items:p}):(0,v.jsx)(f.Z,{items:t}):(0,v.jsx)("div",{className:"container-loading-client",children:(0,v.jsx)("i",{className:"fa fa-circle-o-notch fa-spin fa-3x loading-client"})}),(0,v.jsx)(g,{})]})})}}}]);